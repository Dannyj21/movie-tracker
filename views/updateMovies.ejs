<!DOCTYPE html>
<html>
  <%- include('partials/head.ejs') %>
  <body>
    <!-- Header -->
    <%- include('partials/header.ejs') %>

    <!-- Sidebar -->
    <div class="sidebar"><%- include('partials/sidebar.ejs') %></div>

    <div class="container mt-5">
        <h1 class="update-title">Update Movie</h1>
        <form method="POST" action="/movie/edit">
            <input type="hidden" name="movie_id" value="<%= movieInfo.movie_id %>">

            <!-- Title -->
            <div class="form-field">
                <label for="title" class="form-label">Title</label>
                <input type="text" class="form-control" id="title" name="title" value="<%= movieInfo.title %>" required>
            </div>

            <!-- Description -->
            <div class="form-field">
                <label for="description" class="form-label">Description</label>
                <textarea class="form-control" id="description" name="description" rows="3" required><%= movieInfo.description %></textarea>
            </div>

            <!-- Genre -->
            <div class="form-field">
                <label for="genre" class="form-label">Genre</label>
                <select class="form-control" id="genre" name="genre" required>
                    <option value="Action" <%= movieInfo.genre === 'Action' ? 'selected' : '' %>>Action</option>
                    <option value="Comedy" <%= movieInfo.genre === 'Comedy' ? 'selected' : '' %>>Comedy</option>
                    <option value="Drama" <%= movieInfo.genre === 'Drama' ? 'selected' : '' %>>Drama</option>
                    <option value="Horror" <%= movieInfo.genre === 'Horror' ? 'selected' : '' %>>Horror</option>
                    <option value="Romance" <%= movieInfo.genre === 'Romance' ? 'selected' : '' %>>Romance</option>
                </select>
            </div>

            <!-- Release Date -->
            <div class="form-field">
                <label for="release_date" class="form-label">Release Date</label>
                <input type="date" class="form-control" id="release_date" name="release_date" value="<%= movieInfo.release_date.toISOString().split('T')[0] %>" required>
            </div>

            <!-- Director -->
            <div class="form-field">
                <label for="director" class="form-label">Director</label>
                <input type="text" class="form-control" id="director" name="director" value="<%= movieInfo.director %>" required>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary" id="updateButton">Update Movie</button>
        </form>
    </div>

    <!-- Footer -->
    <%- include('partials/footer.ejs') %>
    <script src="js/script.js"></script>
  </body>
</html>